<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>Live Simulator</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<script src="src/structures.js"></script>
	<script src="src/graphics.js"></script>
	<script src="src/timing.js"></script>
	<script src="src/bandori.js"></script>
	<script src="src/sif.js"></script>
</head>

<body>
	<canvas id="canvas" height=600 width=960></canvas>
	<br />
	<button onclick="startSim()" height=15 width=35>Start</button>
	<button onclick="stopSim()" height=15 width=35>Stop</button>
	<label id="status">Stopped</label>
	<script type="text/javascript">		
		var notelist;
		
		notelist = [
			new BDNote([0,0,0.0],0,6,Note.HIT),
			new BDLN(
				[[[0,0,0.0],0],
				[[0,0,0.5],1],
				[[0,0,1.0],2],
				[[0,0,1.5],3],
				[[0,0,2.0],2],
				[[0,0,2.5],1],
				[[0,0,3.0],0]]),
			new BDNote([0,0,0.5],6,Note.HIT),
			new BDNote([0,0,1.0],5,Note.HIT),
			new BDNote([0,0,1.5],5,Note.HIT),
			new BDNote([0,0,2.0],4,Note.HIT),
			new BDNote([0,0,2.5],4,Note.HIT),
			new BDNote([0,0,3.0],3,Note.HIT),
			new BDLN(
				[[[0,1,0.0],6],
				[[0,1,3.5],3],
				[[0,2,0.0],5],
				[[0,2,3.5],4]]),
			new BDLN(
				[[[0,1,0.5],3],
				[[0,1,1.0],2,Note.SWIPE]]),
			new BDLN(
				[[[0,1,1.5],2],
				[[0,1,2.0],1,Note.SWIPE]]),
			new BDLN(
				[[[0,1,2.5],1],
				[[0,1,3.0],0,Note.SWIPE]]),
			new BDNote([0,2,0.5],0,Note.HIT),
			new BDNote([0,2,1.0],3,Note.SWIPE),
			new BDNote([0,2,1.5],0,Note.HIT),
			new BDNote([0,2,2.0],2,Note.SWIPE),
			new BDNote([0,2,2.5],0,Note.HIT),
			new BDNote([0,2,3.0],1,Note.SWIPE),
			
			// demo-ing the note speed change 
			new BDNote([0,4,0.0],0,Note.HIT),
			new BDNote([0,4,0.0],4,Note.HIT),
			new BDNote([0,4,0.5],0,Note.HIT),
			new BDNote([0,4,0.5],4,Note.HIT),
			new BDNote([0,4,2.0],2,Note.HIT),
			new BDNote([0,4,2.0],6,Note.HIT),
			new BDNote([0,4,2.5],2,Note.HIT),
			new BDNote([0,4,2.5],6,Note.HIT),
			new BDNote([0,5,0.0],1,Note.HIT),
			new BDNote([0,5,0.5],2,Note.HIT),
			new BDNote([0,5,1.0],3,Note.HIT),
			new BDNote([0,5,1.5],4,Note.HIT),
			new BDNote([0,5,2.0],5,Note.HIT),
		];
		notelist = [
			new SIFNote([0,0,0.0],0,Note.HIT,{sametime:true}),
			new SIFNote([0,0,0.0],5,Note.HIT,{sametime:true}),
			new SIFNote([0,0,0.5],4,Note.HIT),
			new SIFNote([0,0,1.0],4,Note.HIT),
			new SIFNote([0,0,1.5],3,Note.HIT,{sametime:true}),
			new SIFNote([0,0,1.5],8,Note.HIT,{sametime:true}),
			new SIFNote([0,0,2.5],1,Note.HIT,{sametime:true}),
			new SIFNote([0,0,2.5],6,Note.HIT,{sametime:true}),
			new SIFNote([0,0,3.5],2,Note.HIT,{sametime:true}),
			new SIFNote([0,0,3.5],7,Note.HIT,{sametime:true}),
			new SIFLN(
				[[[0,1,1.5],0,{sametime:true}],
				[[0,1,3.0],0]]),
			new SIFLN(
				[[[0,1,1.5],5,{sametime:true}],
				[[0,1,2.5],5]]),
			new SIFLN(
				[[[0,1,3.5],8,{sametime:true}],
				[[0,2,1.0],8]]),
			new SIFLN(
				[[[0,1,3.5],3,{sametime:true}],
				[[0,2,0.5],3]]),
			new SIFNote([0,2,1.5],1,Note.HIT,{sametime:true}),
			new SIFNote([0,2,1.5],7,Note.HIT,{sametime:true}),
			new SIFNote([0,2,2.5],2,Note.HIT,{sametime:true}),
			new SIFNote([0,2,2.5],6,Note.HIT,{sametime:true}),
			new SIFNote([0,2,3.5],3,Note.HIT,{sametime:true}),
			new SIFNote([0,2,3.5],5,Note.HIT,{sametime:true}),
			new SIFNote([0,3,1.5],5,Note.HIT),
			new SIFNote([0,3,1.666666],3,Note.HIT),
			new SIFNote([0,3,1.833333],5,Note.HIT),
			new SIFNote([0,3,2.0],3,Note.HIT),
			new SIFNote([0,3,2.5],6,Note.HIT),
			new SIFNote([0,3,2.666666],2,Note.HIT),
			new SIFNote([0,3,2.833333],6,Note.HIT),
			new SIFNote([0,3,3.0],2,Note.HIT),
			new SIFNote([0,3,3.5],0,Note.HIT,{sametime:true}),
			new SIFNote([0,3,3.5],5,Note.HIT,{sametime:true}),
		];
		
		var c=new GameContext();
		c.initialise("sif");
		
		var timing=new TimingInfo([
			{ "offset" : 0, "bpm" : 132, "measure" : 4 }],
			[[0,125]]);
		timing.convertAll(notelist);
	</script>
	
</body>

</html>
